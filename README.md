# SKUAPSO
* программа предназначена для получения данных с навигационных терминалов
* перепаковки данных для отправки на другие сервера (возможно с использованием другого протокола)
* гарантированной доставки на другие сервера

Программа имеет модульную структуру. В данном репозитории - ядро.

Оно служит для запуска подсистем, так же здесь библиотечные функции, которые могут использоваться в нескольких местах.

Для сборки потребуется собранный [rebar](https://github.com/rebar/rebar).

После сборки rebar'а необходимо разместить исполняемый файл в PATH.

# Сборка
`$ make deps && make`

# Конфигурация
Следующая команда создаст файл конфигурации с дефолтными значениями.

`$ make config > etc/skuapso.config`

Отредактируйте конфигурацию, конфигурация модулей описана в их репозитории

[Формат файла конфигурации](http://www.erlang.org/doc/man/config.html)

## Пример файла конфигурации
```erlang
[
 {skuapso,                        %%% конфигурация приложения skuapso
  [{modules,                      % какие подсистемы необходимо запустить
    [psql,                        % хранение данных в БД postgresql
     terminator,                  % прием данных по сети
     egts                         %
    ]
   }
  ]
 },
 {logger,                         %%% конфигурация приложения logger
  [{default,info}                 % сообщения этого уровня и выше будут логгироваться
  ]
 },
 {terminator,                     %%% конфигурация приложения terminator
  [{listen,                       % задаем порты, которые необходимо слушать
    [{tcp, egts, 3000}            % слушаем 3000 tcp-порт, протокол egts
    ]
   }
  ]
 }
].
```

# Запуск
`$ ./start`
